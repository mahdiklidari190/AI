<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>چت‌بات BK</title>
<style>
  body { margin:0; font-family:sans-serif; background:#f0f0f0; direction:rtl; }
  .chat-container { max-width:600px; margin:50px auto; background:#fff; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.2); display:flex; flex-direction:column; height:80vh; }
  .messages { flex:1; padding:15px; overflow-y:auto; display:flex; flex-direction:column; gap:10px; }
  .message { max-width:70%; padding:10px 15px; border-radius:15px; word-wrap:break-word; }
  .user-message { background:#dcf8c6; align-self:flex-end; text-align:left; }
  .bot-message { background:#e6e6e6; align-self:flex-start; text-align:right; }
  .input-area { display:flex; padding:10px; gap:10px; border-top:1px solid #ddd; }
  .input-area input { flex:1; padding:10px 15px; border-radius:20px; border:1px solid #ccc; outline:none; font-size:16px; }
  .input-area button { padding:10px 20px; border:none; border-radius:20px; background:#4a89dc; color:white; cursor:pointer; font-size:16px; transition:.3s; }
  .input-area button:hover { background:#3a70b0; }
</style>
</head>
<body>
<div class="chat-container">
  <div class="messages" id="chatMessages"></div>
  <div class="input-area">
    <input type="text" id="userInput" placeholder="پیام خود را وارد کنید...">
    <button id="sendBtn">ارسال</button>
  </div>
</div>

<script src="ai.js"></script>
<script>
const inputField = document.getElementById("userInput");
const sendBtn = document.getElementById("sendBtn");
const chatMessages = document.getElementById("chatMessages");

function addMessage(msg,type){
  const el = document.createElement("div");
  el.classList.add("message", type==="user"?"user-message":"bot-message");
  el.textContent = msg;
  chatMessages.appendChild(el);
  chatMessages.scrollTop = chatMessages.scrollHeight;
}

function sendMessage(){
  const msg = inputField.value.trim();
  if(!msg) return;
  addMessage(msg,"user");
  inputField.value="";
  setTimeout(()=>{ addMessage(generateResponse(msg),"bot"); }, 300);
}

sendBtn.addEventListener("click", sendMessage);
inputField.addEventListener("keypress", e => { if(e.key==="Enter") sendMessage(); });
</script>
</body>
</html>
